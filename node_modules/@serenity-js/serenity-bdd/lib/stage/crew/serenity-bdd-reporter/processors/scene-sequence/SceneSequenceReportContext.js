"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.SceneSequenceReportContext = void 0;
const model_1 = require("@serenity-js/core/lib/model");
const SerenityBDDReportContext_1 = require("../SerenityBDDReportContext");
/**
 * @package
 */
class SceneSequenceReportContext extends SerenityBDDReportContext_1.SerenityBDDReportContext {
    constructor() {
        super(...arguments);
        this.parameters = [];
        this.worstOutcomeSoFar = new model_1.ExecutionSuccessful();
    }
    build() {
        const report = super.build();
        this.parameters.forEach((entry, index) => {
            const values = entry.parameters.values;
            const sceneDescription = Object.keys(values).map(key => `${key}: ${values[key]}`).join(', ').trim();
            report.testSteps[index].description += ` #${index + 1} - ${sceneDescription}`;
        });
        return report;
    }
}
exports.SceneSequenceReportContext = SceneSequenceReportContext;
//# sourceMappingURL=SceneSequenceReportContext.js.map