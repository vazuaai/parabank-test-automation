"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Credentials = void 0;
const tiny_types_1 = require("tiny-types");
/**
 * @package
 */
class Credentials extends tiny_types_1.TinyType {
    static fromString(value) {
        if (!value) {
            return new Credentials(undefined, undefined);
        }
        (0, tiny_types_1.ensure)('Credentials', value, matches(/(.*):(.*)/, `follow the "<username>:<password>" format`));
        const index = value.indexOf(':');
        return new Credentials(value.slice(0, index), value.slice(index + 1));
    }
    constructor(username, password) {
        super();
        this.username = username;
        this.password = password;
    }
}
exports.Credentials = Credentials;
/**
 * @package
 */
function matches(expression, description) {
    return tiny_types_1.Predicate.to(description || `match pattern ${expression}`, (value) => expression.test(value));
}
//# sourceMappingURL=Credentials.js.map